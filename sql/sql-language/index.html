
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="http://docs.codewizardshq.com/sql/sql-language/">
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.3.9">
    
    
      
        <title>SQL Language - CodeWizardsHQ Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sql-language" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="CodeWizardsHQ Documentation" class="md-header__button md-logo" aria-label="CodeWizardsHQ Documentation" data-md-component="logo">
      
  <img src="../../assets/lightHorizontal.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CodeWizardsHQ Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              SQL Language
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/codewizardshq/docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    cwhq-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="CodeWizardsHQ Documentation" class="md-nav__button md-logo" aria-label="CodeWizardsHQ Documentation" data-md-component="logo">
      
  <img src="../../assets/lightHorizontal.svg" alt="logo">

    </a>
    CodeWizardsHQ Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/codewizardshq/docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    cwhq-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          CSS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="CSS" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          CSS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../css/css/" class="md-nav__link">
        CSS Language
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          HTML
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="HTML" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          HTML
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../html/html/" class="md-nav__link">
        HTML Language
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          JavaScript
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="JavaScript" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          JavaScript
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../javascript/javascript-language/" class="md-nav__link">
        JavaScript Language
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../javascript/browser-apis-and-jquery/" class="md-nav__link">
        Browser APIs and jQuery
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Python" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/python-language/" class="md-nav__link">
        Python Language
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/wizardlib/" class="md-nav__link">
        Wizardlib
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          SQL
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="SQL" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          SQL
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          SQL Language
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        SQL Language
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-a-relational-database" class="md-nav__link">
    What Is A Relational Database?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-do-we-need-sql" class="md-nav__link">
    Why Do We Need SQL?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-do-we-use-python-and-sql-together" class="md-nav__link">
    Why Do We Use Python And SQL Together?
  </a>
  
    <nav class="md-nav" aria-label="Why Do We Use Python And SQL Together?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bounded-parameters" class="md-nav__link">
    Bounded Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregate-functions" class="md-nav__link">
    Aggregate Functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alter-table" class="md-nav__link">
    ALTER TABLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#as" class="md-nav__link">
    AS
  </a>
  
    <nav class="md-nav" aria-label="AS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aliasing-column-names" class="md-nav__link">
    Aliasing Column Names
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concatenation" class="md-nav__link">
    Concatenation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-table" class="md-nav__link">
    CREATE TABLE
  </a>
  
    <nav class="md-nav" aria-label="CREATE TABLE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#column-datatypes" class="md-nav__link">
    Column Datatypes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column-constraints" class="md-nav__link">
    Column Constraints
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    DELETE
  </a>
  
    <nav class="md-nav" aria-label="DELETE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deleting-all-rows-from-a-table" class="md-nav__link">
    Deleting all rows from a table
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distinct" class="md-nav__link">
    DISTINCT
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drop-table" class="md-nav__link">
    DROP TABLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#group-by" class="md-nav__link">
    GROUP BY
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#insert" class="md-nav__link">
    INSERT
  </a>
  
    <nav class="md-nav" aria-label="INSERT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inserting-multiple-rows-into-a-table" class="md-nav__link">
    Inserting multiple rows into a table
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#join" class="md-nav__link">
    JOIN
  </a>
  
    <nav class="md-nav" aria-label="JOIN">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-table-relationships" class="md-nav__link">
    Defining Table Relationships
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#joining-tables-together" class="md-nav__link">
    JOINING Tables Together
  </a>
  
    <nav class="md-nav" aria-label="JOINING Tables Together">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-using-shorthand" class="md-nav__link">
    The USING() shorthand
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limit" class="md-nav__link">
    LIMIT
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#null" class="md-nav__link">
    NULL
  </a>
  
    <nav class="md-nav" aria-label="NULL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#avoiding-null-values-in-create-table-statements" class="md-nav__link">
    Avoiding NULL Values In CREATE TABLE Statements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filtering-null-values-in-select-statements" class="md-nav__link">
    Filtering NULL Values In SELECT Statements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#offset" class="md-nav__link">
    OFFSET
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#order-by" class="md-nav__link">
    ORDER BY
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#select" class="md-nav__link">
    SELECT
  </a>
  
    <nav class="md-nav" aria-label="SELECT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#selecting-all-of-the-rows-and-columns-from-a-table" class="md-nav__link">
    Selecting all of the rows and columns from a table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selecting-specific-columns-from-a-table" class="md-nav__link">
    Selecting specific columns from a table
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    UPDATE
  </a>
  
    <nav class="md-nav" aria-label="UPDATE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#updating-multiple-columns" class="md-nav__link">
    Updating multiple columns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#where" class="md-nav__link">
    WHERE
  </a>
  
    <nav class="md-nav" aria-label="WHERE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-a-single-row-from-python-when-using-where" class="md-nav__link">
    Getting a single row from Python when using WHERE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-conditional-logic-with-where-clauses" class="md-nav__link">
    Using conditional logic with WHERE clauses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-conditional-logic-with-where-clauses" class="md-nav__link">
    Complex conditional logic with WHERE clauses
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-a-relational-database" class="md-nav__link">
    What Is A Relational Database?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-do-we-need-sql" class="md-nav__link">
    Why Do We Need SQL?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-do-we-use-python-and-sql-together" class="md-nav__link">
    Why Do We Use Python And SQL Together?
  </a>
  
    <nav class="md-nav" aria-label="Why Do We Use Python And SQL Together?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bounded-parameters" class="md-nav__link">
    Bounded Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregate-functions" class="md-nav__link">
    Aggregate Functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alter-table" class="md-nav__link">
    ALTER TABLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#as" class="md-nav__link">
    AS
  </a>
  
    <nav class="md-nav" aria-label="AS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aliasing-column-names" class="md-nav__link">
    Aliasing Column Names
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concatenation" class="md-nav__link">
    Concatenation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-table" class="md-nav__link">
    CREATE TABLE
  </a>
  
    <nav class="md-nav" aria-label="CREATE TABLE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#column-datatypes" class="md-nav__link">
    Column Datatypes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column-constraints" class="md-nav__link">
    Column Constraints
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    DELETE
  </a>
  
    <nav class="md-nav" aria-label="DELETE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deleting-all-rows-from-a-table" class="md-nav__link">
    Deleting all rows from a table
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distinct" class="md-nav__link">
    DISTINCT
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drop-table" class="md-nav__link">
    DROP TABLE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#group-by" class="md-nav__link">
    GROUP BY
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#insert" class="md-nav__link">
    INSERT
  </a>
  
    <nav class="md-nav" aria-label="INSERT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inserting-multiple-rows-into-a-table" class="md-nav__link">
    Inserting multiple rows into a table
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#join" class="md-nav__link">
    JOIN
  </a>
  
    <nav class="md-nav" aria-label="JOIN">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-table-relationships" class="md-nav__link">
    Defining Table Relationships
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#joining-tables-together" class="md-nav__link">
    JOINING Tables Together
  </a>
  
    <nav class="md-nav" aria-label="JOINING Tables Together">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-using-shorthand" class="md-nav__link">
    The USING() shorthand
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limit" class="md-nav__link">
    LIMIT
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#null" class="md-nav__link">
    NULL
  </a>
  
    <nav class="md-nav" aria-label="NULL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#avoiding-null-values-in-create-table-statements" class="md-nav__link">
    Avoiding NULL Values In CREATE TABLE Statements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filtering-null-values-in-select-statements" class="md-nav__link">
    Filtering NULL Values In SELECT Statements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#offset" class="md-nav__link">
    OFFSET
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#order-by" class="md-nav__link">
    ORDER BY
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#select" class="md-nav__link">
    SELECT
  </a>
  
    <nav class="md-nav" aria-label="SELECT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#selecting-all-of-the-rows-and-columns-from-a-table" class="md-nav__link">
    Selecting all of the rows and columns from a table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selecting-specific-columns-from-a-table" class="md-nav__link">
    Selecting specific columns from a table
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    UPDATE
  </a>
  
    <nav class="md-nav" aria-label="UPDATE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#updating-multiple-columns" class="md-nav__link">
    Updating multiple columns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#where" class="md-nav__link">
    WHERE
  </a>
  
    <nav class="md-nav" aria-label="WHERE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-a-single-row-from-python-when-using-where" class="md-nav__link">
    Getting a single row from Python when using WHERE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-conditional-logic-with-where-clauses" class="md-nav__link">
    Using conditional logic with WHERE clauses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-conditional-logic-with-where-clauses" class="md-nav__link">
    Complex conditional logic with WHERE clauses
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/codewizardshq/docs/edit/main/docs/sql/sql-language.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="sql-language">SQL Language<a class="headerlink" href="#sql-language" title="Permanent link">&para;</a></h1>
<p>SQL (Structured Query Language) is a language used to interact with databases. We use SQL in the following courses at CodeWizardsHQ:</p>
<table>
<thead>
<tr>
<th>Middle School</th>
<th>High School</th>
</tr>
</thead>
<tbody>
<tr>
<td>Intro to Databases</td>
<td>APIs and Databases</td>
</tr>
<tr>
<td>Mastering APIs</td>
<td>Professional Web App Development</td>
</tr>
<tr>
<td>Mastering Databases</td>
<td>Capstone 2</td>
</tr>
<tr>
<td>Capstone 3</td>
<td>Mastering MVC Framework</td>
</tr>
<tr>
<td></td>
<td>Object Relational Mapping</td>
</tr>
<tr>
<td></td>
<td>Capstone 3</td>
</tr>
</tbody>
</table>
<p>In this section of our documentation, you'll find references to most of the core SQL language features that we use in our CodeWizardsHQ courses. All of our courses interact with databases using Python + SQL, so we'll show the core SQL syntax first and then give a working example in Python.</p>
<p>You'll also find many <em>Further reading</em> sections, which pull from these excellent SQL/Python resources:</p>
<ul>
<li><a href="https://sqlbolt.com/lesson/introduction">SQLBolt</a></li>
<li><a href="https://www.sqlitetutorial.net/">SQLite Tutorial</a></li>
<li><a href="https://www.python.org/doc/">Python.org Documentation</a></li>
</ul>
<hr>

<h2 id="what-is-a-relational-database">What Is A Relational Database?<a class="headerlink" href="#what-is-a-relational-database" title="Permanent link">&para;</a></h2>
<p>In a relational database, you structure your data in tables made up of rows and columns, kind of like an Excel spreadsheet. You can combine data from multiple tables using <code>JOIN</code>s or just pull data from a single table.</p>
<p>For example, consider the two tables below:</p>
<p><em>users table</em></p>
<table>
<thead>
<tr>
<th>user_id</th>
<th>username</th>
<th>password</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>djs</td>
<td>mypa$$word</td>
</tr>
<tr>
<td>2</td>
<td>django</td>
<td>w0ff</td>
</tr>
<tr>
<td>3</td>
<td>alecg</td>
<td>c0de</td>
</tr>
</tbody>
</table>
<p><em>teachers table</em></p>
<table>
<thead>
<tr>
<th>teacher_id</th>
<th>user_id</th>
<th>username</th>
<th>is_admin</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>djs</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>alecg</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>We could get the username and password of all users that are teachers and admins like this:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"></span>
<span class="w">    </span><span class="n">users</span><span class="p">.</span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">users</span><span class="p">.</span><span class="n">password</span><span class="w"></span>
<span class="k">FROM</span><span class="w"></span>
<span class="w">    </span><span class="n">users</span><span class="w"></span>
<span class="k">JOIN</span><span class="w"></span>
<span class="w">    </span><span class="n">teachers</span><span class="w"></span>
<span class="k">USING</span><span class="w"></span>
<span class="w">    </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"></span>
<span class="k">WHERE</span><span class="w"></span>
<span class="w">    </span><span class="n">teachers</span><span class="p">.</span><span class="n">is_admin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="err">┌──────────┬────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├──────────┼────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">djs</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">└──────────┴────────────┘</span><span class="w"></span>
</code></pre></div>
<p>There are many different relational database implementations (MySQL, Postgres, etc.) but we use SQLite at CodeWizardsHQ because it is easy to work with and supports most of the common SQL features.</p>
<h2 id="why-do-we-need-sql">Why Do We Need SQL?<a class="headerlink" href="#why-do-we-need-sql" title="Permanent link">&para;</a></h2>
<p>When working with a database, you need a way to talk to the database and get data into/out of it. SQL is the language we use to do this in a SQLite database. SQL allows you to express relationships in a database in a structured way.</p>
<h2 id="why-do-we-use-python-and-sql-together">Why Do We Use Python And SQL Together?<a class="headerlink" href="#why-do-we-use-python-and-sql-together" title="Permanent link">&para;</a></h2>
<p>Although you can use raw SQL commands to talk to a SQL database, we use Python at CodeWizardsHQ because often you'll interact with databases this way in the real world. Think about apps you've used that store data about you between visits. That's using a database and a programming language (like Python) to interact with the database!</p>
<p>The SQL portions of a Python DB query will be a Python <code>str</code>. Consider this <code>INSERT</code> statement in raw SQL:</p>
<div class="highlight"><pre><span></span><code>INSERT INTO users (username, password) VALUES (&quot;djs&quot;, &quot;mypa$$word&quot;);
</code></pre></div>
<p>To run that from Python, we would do this:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;users-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    INSERT INTO users (username, password) VALUES (&quot;djs&quot;, &quot;mypa$$word&quot;);</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
<p>The important thing to remember is that the <code>query</code> is just a <code>str</code> that you pass to <code>sql.execute()</code>. If you make a change to a table in the database (as we did above) then you use the <code>con.commit()</code> method to save the change (although in some CWHQ courses you merely view the results without changing the database). The semi-colon (<code>;</code>) isn't required when using a query from Python, but we'll keep it for consistency between the raw SQL examples.</p>
<h3 id="bounded-parameters">Bounded Parameters<a class="headerlink" href="#bounded-parameters" title="Permanent link">&para;</a></h3>
<p>When accepting user input in a Python program that modifies a SQL database, you'll use <code>?</code> as placeholders for any user-entered data and then pass the data to <code>sql.execute()</code> as a <code>list</code> like this:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;users-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="n">username</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter your username: &quot;</span><span class="p">)</span>
<span class="n">password</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter your password: &quot;</span><span class="p">)</span>

<span class="c1"># Use `?` for any user-entered data</span>
<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    INSERT INTO users (username, password) VALUES (?, ?);</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="c1"># The `username` and `password` are bound to the `?` in the `query`</span>
<span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="p">[</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">])</span>
<span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/sqlite3.html">Python Documentation - sqlite3</a></li>
</ul>
<h2 id="aggregate-functions">Aggregate Functions<a class="headerlink" href="#aggregate-functions" title="Permanent link">&para;</a></h2>
<p>Just like programming languages such as Python and JavaScript, SQL has functions to perform common tasks on result set called <em>Aggregate Functions</em>. The example below shows the different <em>Aggregate Functions</em> we use in CWHQ courses.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="c1">-- Get the average price of all products</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">AVG</span><span class="p">(</span><span class="n">product_price</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">average_product_price</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌───────────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">average_product_price</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├───────────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">800</span><span class="p">.</span><span class="mi">7525</span><span class="w">              </span><span class="err">│</span><span class="w"></span>
<span class="err">└───────────────────────┘</span><span class="w"></span>

<span class="c1">-- Count the number of products</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">total_products</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">total_products</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">              </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────────┘</span><span class="w"></span>

<span class="c1">-- Get the most expensive product</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">product_name</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="ss">&quot; $&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">MAX</span><span class="p">(</span><span class="n">product_price</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">most_expensive_product</span><span class="w"></span>
<span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">most_expensive_product</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="err">$</span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────────────────┘</span><span class="w"></span>

<span class="c1">-- Get the least expensive product</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">product_name</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="ss">&quot; $&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">MIN</span><span class="p">(</span><span class="n">product_price</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">least_expensive_product</span><span class="w"></span>
<span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">least_expensive_product</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w"> </span><span class="err">$</span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────────────────────┘</span><span class="w"></span>

<span class="c1">-- Get the total cost of all products combined</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">product_price</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">total_cost_all_products</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">total_cost_all_products</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6406</span><span class="p">.</span><span class="mi">02</span><span class="w">                 </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────────────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;products-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>


<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All products:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT AVG(product_price) AS average_product_price FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Average cost of all products:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT COUNT(*) AS total_products FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Total number of products:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT product_name || &quot; $&quot; || MAX(product_price) AS most_expensive_product</span>
<span class="s2">    FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Most expensive product:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT product_name || &quot; $&quot; || MIN(product_price) AS least_expensive_product</span>
<span class="s2">    FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Least expensive product:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT SUM(product_price) AS total_cost_all_products FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Total cost of all products:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>All products:
(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)

Average cost of all products:
(800.7524999999999,)

Total number of products:
(8,)

Most expensive product:
(&#39;MacBook Pro 16 $2100.5&#39;,)

Least expensive product:
(&#39;Logitech M1 $34.99&#39;,)

Total cost of all products:
(6406.0199999999995,)
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/select_queries_with_aggregates">SQLBolt - Queries with aggregates - Pt. 1</a></li>
<li><a href="https://www.sqlitetutorial.net/sqlite-aggregate-functions/">SQLite Tutorial - SQLite Aggregate Functions</a></li>
</ul>
<h2 id="alter-table">ALTER TABLE<a class="headerlink" href="#alter-table" title="Permanent link">&para;</a></h2>
<p>After creating a table, you may need to add or rename a column. The <code>ALTER TABLE</code> command allows you to do this.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬──────────┬────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼──────────┼────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">djs</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">django</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="n">w0ff</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">alecg</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">c0de</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴──────────┴────────────┘</span><span class="w"></span>

<span class="c1">-- Renaming a column</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="k">RENAME</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">teacher_name</span><span class="p">;</span><span class="w"></span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬──────────────┬────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">teacher_name</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼──────────────┼────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">djs</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">django</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">w0ff</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">alecg</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">c0de</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴──────────────┴────────────┘</span><span class="w"></span>

<span class="c1">-- Adding a new column with a default value for each row</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="n">is_admin</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬──────────────┬────────────┬──────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">teacher_name</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="n">is_admin</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼──────────────┼────────────┼──────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">djs</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">0</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">django</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">w0ff</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">0</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">alecg</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">c0de</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">0</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴──────────────┴────────────┴──────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;users-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">display_all_users_and_column_names</span><span class="p">():</span>
    <span class="c1"># Don&#39;t worry about this, it just shows us the column names</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        SELECT name FROM PRAGMA_TABLE_INFO(&#39;users&#39;);</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Column names:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">())</span>

    <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        SELECT * FROM users;</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Rows:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>


<span class="n">display_all_users_and_column_names</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    ALTER TABLE users RENAME username TO teacher_name;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="n">display_all_users_and_column_names</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    ALTER TABLE users ADD is_admin INTEGER DEFAULT 0;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="n">display_all_users_and_column_names</span><span class="p">()</span>

<span class="c1"># Make sure to commit the changes to the DB</span>
<span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>Column names:
(&#39;user_id&#39;,) (&#39;username&#39;,) (&#39;password&#39;,)

Rows:
[(1, &#39;djs&#39;, &#39;mypa$$word&#39;), (2, &#39;django&#39;, &#39;w0ff&#39;), (3, &#39;alecg&#39;, &#39;c0de&#39;)]

Column names:
(&#39;user_id&#39;,) (&#39;teacher_name&#39;,) (&#39;password&#39;,)

Rows:
[(1, &#39;djs&#39;, &#39;mypa$$word&#39;), (2, &#39;django&#39;, &#39;w0ff&#39;), (3, &#39;alecg&#39;, &#39;c0de&#39;)]

Column names:
(&#39;user_id&#39;,) (&#39;teacher_name&#39;,) (&#39;password&#39;,) (&#39;is_admin&#39;,)

Rows:
[(1, &#39;djs&#39;, &#39;mypa$$word&#39;, 0), (2, &#39;django&#39;, &#39;w0ff&#39;, 0), (3, &#39;alecg&#39;, &#39;c0de&#39;, 0)]
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/altering_tables">SQLBolt - Altering Tables</a></li>
<li><a href="https://www.sqlitetutorial.net/sqlite-alter-table/">SQLite Tutorial - SQLite Alter Table</a></li>
</ul>
<h2 id="as">AS<a class="headerlink" href="#as" title="Permanent link">&para;</a></h2>
<p>The <code>AS</code> clause is used to alias a column or table name. We only use it at CWHQ for column aliases though, so that's all that is covered here.</p>
<h3 id="aliasing-column-names">Aliasing Column Names<a class="headerlink" href="#aliasing-column-names" title="Permanent link">&para;</a></h3>
<p>When aliasing column names, the <code>AS</code> clause comes in handy when you are using the concatenation operator (<code>||</code>) to combine multiple columns or when using <em>Aggregate Functions</em> to perform some calculation on a group of rows.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="cm">/*</span>
<span class="cm">*   Build a result set that combines `product_name` and `product_price`</span>
<span class="cm">*   into a single column</span>
<span class="cm">*/</span><span class="w"></span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">product_name</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="ss">&quot; : $&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">product_description</span><span class="w"></span>
<span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌───────────────────────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w">        </span><span class="n">product_description</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">├───────────────────────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">            </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">     </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">              </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">           </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">                </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"></span>
<span class="err">└───────────────────────────────────┘</span><span class="w"></span>

<span class="c1">-- Get the total cost of all the computers in the `products` table</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">product_price</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">total_price_computers</span><span class="w"></span>
<span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"></span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;Computers&quot;</span><span class="p">;</span><span class="w"></span>
<span class="err">┌───────────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">total_price_computers</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├───────────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5906</span><span class="p">.</span><span class="mi">79</span><span class="w">               </span><span class="err">│</span><span class="w"></span>
<span class="err">└───────────────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;products-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>


<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All products:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT product_name || &quot; : $&quot; || product_price AS product_description</span>
<span class="s2">    FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Formatted product descriptions:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT SUM(product_price) AS total_price_computers</span>
<span class="s2">    FROM products</span>
<span class="s2">    WHERE product_category = &quot;Computers&quot;;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">The total price of all computers in the `products` table:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>All products:
(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)

Formatted product descriptions:
(&#39;Dell XPS 17 : $1599.99&#39;,)
(&#39;Blue Snowball Microphone : $99.5&#39;,)
(&#39;System76 Thelio B1 : $1255.55&#39;,)
(&#39;Logitech M1 : $34.99&#39;,)
(&#39;Seagate S1 SSD : $88.75&#39;,)
(&#39;MacBook Pro 16 : $2100.5&#39;,)
(&#39;Rode Z28 : $275.99&#39;,)
(&#39;Lenovo ThinkPad : $950.75&#39;,)

The total price of all computers in the `products` table:
(5906.79,)
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/select_queries_with_expressions">SQLBolt - Queries with expressions</a></li>
</ul>
<h2 id="concatenation">Concatenation<a class="headerlink" href="#concatenation" title="Permanent link">&para;</a></h2>
<p>SQLite uses the <code>||</code> operator for string concatenation. This is used at CWHQ to combine column names together (possibly with other string data) to merge the data from multiple columns into a single column. This is often used in conjunction with the <code>AS</code> clause to rename the combined columns.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="cm">/*</span>
<span class="cm">*   Build a result set that combines `product_name` and `product_price`</span>
<span class="cm">*   into a single column using `||` and `AS`</span>
<span class="cm">*/</span><span class="w"></span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">product_name</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="ss">&quot; : $&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">product_description</span><span class="w"></span>
<span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌───────────────────────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w">        </span><span class="n">product_description</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">├───────────────────────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">            </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">     </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">              </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">           </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">                </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"></span>
<span class="err">└───────────────────────────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;products-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>


<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All products:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT product_name || &quot; : $&quot; || product_price AS product_description</span>
<span class="s2">    FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>All products:
(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)

Formatted product descriptions:
(&#39;Dell XPS 17 : $1599.99&#39;,)
(&#39;Blue Snowball Microphone : $99.5&#39;,)
(&#39;System76 Thelio B1 : $1255.55&#39;,)
(&#39;Logitech M1 : $34.99&#39;,)
(&#39;Seagate S1 SSD : $88.75&#39;,)
(&#39;MacBook Pro 16 : $2100.5&#39;,)
(&#39;Rode Z28 : $275.99&#39;,)
(&#39;Lenovo ThinkPad : $950.75&#39;,)
</code></pre></div>
<h2 id="create-table">CREATE TABLE<a class="headerlink" href="#create-table" title="Permanent link">&para;</a></h2>
<p>Relational databases are made up of tables, and you'll need to create tables to hold your data if we don't provide one for you. We often use <code>IF NOT EXISTS</code> in CWHQ courses when creating a table because we'll run the statement every time our Python script runs, and an error would occur if you tried to create a table that already existed. Most tables should also have a <code>PRIMARY KEY</code> integer to uniquely identify each row of data.</p>
<p>The general format of a <code>CREATE TABLE</code> statement is:</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="n">column_one</span><span class="w"> </span><span class="n">DATATYPE</span><span class="w"> </span><span class="n">OPTIONAL_CONSTRAINTS</span><span class="p">...,</span><span class="w"></span>
<span class="w">    </span><span class="n">column_two</span><span class="w"> </span><span class="n">DATATYPE</span><span class="w"> </span><span class="n">OPTIONAL_CONSTRAINTS</span><span class="p">...,</span><span class="w"></span>
<span class="w">    </span><span class="n">column_three</span><span class="w"> </span><span class="n">DATATYPE</span><span class="w"> </span><span class="n">OPTIONAL_CONSTRAINTS</span><span class="p">...</span><span class="w"></span>
<span class="w">    </span><span class="c1">-- etc...</span>
<span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>Note that each column definition is separated by a comma (<code>,</code>) but the final column definition should <em>not</em> have a comma.</p>
<p>Here's an example of a <code>CREATE TABLE</code> statement for the <code>users</code> table from the <a href="#what-is-a-relational-database">What Is A Relational Database?</a> section earlier in these docs:</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">username</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">password</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;users-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    CREATE TABLE IF NOT EXISTS users (</span>
<span class="s2">        user_id INTEGER PRIMARY KEY AUTOINCREMENT,</span>
<span class="s2">        username TEXT UNIQUE NOT NULL,</span>
<span class="s2">        password TEXT NOT NULL</span>
<span class="s2">    );</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</code></pre></div>
<h3 id="column-datatypes">Column Datatypes<a class="headerlink" href="#column-datatypes" title="Permanent link">&para;</a></h3>
<p>When writing column definitions, your column can be one of 5 storage classes (which are a generic datatype) in SQLite:</p>
<ul>
<li><code>NULL</code>: Represents "nothingness"</li>
<li><code>INTEGER</code>: Whole numbers</li>
<li><code>REAL</code>: Decimal numbers</li>
<li><code>TEXT</code>: Text data</li>
<li><code>BLOB</code>: Binary data (like images, music, etc.)</li>
</ul>
<p>You'll mainly use <code>INTEGER</code> and <code>TEXT</code> for CWHQ projects.</p>
<h3 id="column-constraints">Column Constraints<a class="headerlink" href="#column-constraints" title="Permanent link">&para;</a></h3>
<p>Besides the datatype, you can also put additional constraints on a column definition to enforce that a column is <code>UNIQUE</code>, or <code>NOT NULL</code>, or even a <code>PRIMARY KEY</code>. You can see all of those at work in this example:</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">username</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">password</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/creating_tables">SQLBolt - Creating tables</a></li>
<li><a href="https://www.sqlitetutorial.net/sqlite-create-table/">SQLite Tutorial - SQLite Create Table</a></li>
</ul>
<h2 id="delete">DELETE<a class="headerlink" href="#delete" title="Permanent link">&para;</a></h2>
<p>To remove data in a SQL table, use the <code>DELETE</code> statement. Make sure to use a <code>WHERE</code> clause so that you only delete the rows you intend to.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬──────────┬────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼──────────┼────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">djs</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">django</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="n">w0ff</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">alecg</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">c0de</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴──────────┴────────────┘</span><span class="w"></span>

<span class="k">DELETE</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"></span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬──────────┬────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼──────────┼────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">djs</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">django</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="n">w0ff</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴──────────┴────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;users-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># We&#39;ll use this twice, so it makes sense to be a function</span>
<span class="k">def</span> <span class="nf">display_all_users</span><span class="p">():</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        SELECT * FROM users;</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>


<span class="n">display_all_users</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    DELETE FROM users WHERE id = 3;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="c1"># Make sure to commit the changes to the DB</span>
<span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="n">display_all_users</span><span class="p">()</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>[(1, &#39;djs&#39;, &#39;mypa$$word&#39;), (2, &#39;django&#39;, &#39;w0ff&#39;), (3, &#39;alecg&#39;, &#39;c0de&#39;)]
[(1, &#39;djs&#39;, &#39;mypa$$word&#39;), (2, &#39;django&#39;, &#39;w0ff&#39;)]
</code></pre></div>
<h3 id="deleting-all-rows-from-a-table">Deleting all rows from a table<a class="headerlink" href="#deleting-all-rows-from-a-table" title="Permanent link">&para;</a></h3>
<p>If you leave out the <code>WHERE</code> clause in a <code>DELETE</code> statement, you remove all rows from the table. This is a handy way to clear out all the rows if you need to start with a fresh table:</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬──────────┬────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼──────────┼────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">djs</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">django</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="n">w0ff</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">alecg</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">c0de</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴──────────┴────────────┘</span><span class="w"></span>

<span class="k">DELETE</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="c1">-- nothing returned because the table is empty</span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;users-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># We&#39;ll use this twice, so it makes sense to be a function</span>
<span class="k">def</span> <span class="nf">display_all_users</span><span class="p">():</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        SELECT * FROM users;</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>


<span class="n">display_all_users</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    DELETE FROM users;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="c1"># Make sure to commit the changes to the DB</span>
<span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="n">display_all_users</span><span class="p">()</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>[(1, &#39;djs&#39;, &#39;mypa$$word&#39;), (2, &#39;django&#39;, &#39;w0ff&#39;), (3, &#39;alecg&#39;, &#39;c0de&#39;)]
[]
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/deleting_rows">SQLBolt - Deleting rows</a></li>
<li><a href="https://www.sqlitetutorial.net/sqlite-delete/">SQLite Tutorial - SQLite Delete</a></li>
</ul>
<h2 id="distinct">DISTINCT<a class="headerlink" href="#distinct" title="Permanent link">&para;</a></h2>
<p>If you want to get unique column values for a set of rows, use the <code>DISTINCT</code> clause of a <code>SELECT</code> query</p>
<p>For example, in the <code>products</code> table below, it may be hard at a glance to see what categories are present, but with <code>DISTINCT</code> it's easy to see we only have three!</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="c1">-- Get only the unique categories for our products.</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">└──────────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;products-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

<span class="c1"># Easier to read if we loop then print each row since there are 8 rows.</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT DISTINCT product_category FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Distinct categories:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)

Distinct categories:
[(&#39;Computers&#39;,), (&#39;Microphones&#39;,), (&#39;Accessories&#39;,)]
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/filtering_sorting_query_results">SQLBolt - Filtering and sorting Query results</a></li>
<li><a href="https://www.sqlitetutorial.net/sqlite-distinct/">SQLite Tutorial - SQLite Select Distinct</a></li>
</ul>
<h2 id="drop-table">DROP TABLE<a class="headerlink" href="#drop-table" title="Permanent link">&para;</a></h2>
<p>The <code>DROP TABLE</code> query deletes an entire table and it's definition from the database. You should usually use the <code>IF EXISTS</code> clause with this query to ensure an error isn't thrown if the table you're trying to drop doesn't exist.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬──────────┬────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼──────────┼────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">djs</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">django</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="n">w0ff</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">alecg</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">c0de</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴──────────┴────────────┘</span><span class="w"></span>

<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="c1">-- Error: no such table: users</span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;users-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># We&#39;ll use this twice, so it makes sense to be a function</span>
<span class="k">def</span> <span class="nf">display_all_users</span><span class="p">():</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        SELECT * FROM users;</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>


<span class="n">display_all_users</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    DROP TABLE IF EXISTS users;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="c1"># This will throw an error since the `users` table doesn&#39;t exist.</span>
<span class="n">display_all_users</span><span class="p">()</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>[(1, &#39;djs&#39;, &#39;mypa$$word&#39;), (2, &#39;django&#39;, &#39;w0ff&#39;), (3, &#39;alecg&#39;, &#39;c0de&#39;)]
Traceback (most recent call last):
  File &quot;/home/daniel/documentation-examples/main.py&quot;, line 27, in &lt;module&gt;
    display_all_users()
  File &quot;/home/daniel/documentation-examples/main.py&quot;, line 12, in display_all_users
    result = sql.execute(query)
sqlite3.OperationalError: no such table: users
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/dropping_tables">SQLBolt - Dropping tables</a></li>
<li><a href="https://www.sqlitetutorial.net/sqlite-drop-table/">SQLite Tutorial - SQLite Drop Table</a></li>
</ul>
<h2 id="group-by">GROUP BY<a class="headerlink" href="#group-by" title="Permanent link">&para;</a></h2>
<p>If you need to "flatten" the results of a <code>SELECT</code> query, the <code>GROUP BY</code> clause is helpful. It let's you group the resulting rows by a particular column, effectively filtering out duplicate rows that have the same column value. You almost always use <code>GROUP BY</code> with an <em>Aggregate Function</em> to perform some sort of calculation on a group of rows with similar column values, but you can also use it to filter a column by unique values (as we do to get the unique product categories below):</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="c1">-- Get the unique product categories</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">product_category</span><span class="p">;</span><span class="w"></span>
<span class="err">┌──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">└──────────────────┘</span><span class="w"></span>

<span class="c1">-- Get the number of products in each `product_category`</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">product_category</span><span class="p">,</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">num_products_per_category</span><span class="w"></span>
<span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"></span>
<span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">product_category</span><span class="p">;</span><span class="w"></span>
<span class="err">┌──────────────────┬───────────────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">num_products_per_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├──────────────────┼───────────────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">                         </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">                         </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">                         </span><span class="err">│</span><span class="w"></span>
<span class="err">└──────────────────┴───────────────────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;products-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All products:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT product_category FROM products GROUP BY product_category;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Unique `product_categories`:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT product_category, COUNT(*) AS num_products_per_category</span>
<span class="s2">    FROM products</span>
<span class="s2">    GROUP BY product_category;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Number of products per category:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>All products:
(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)

Unique `product_categories`:
(&#39;Accessories&#39;,)
(&#39;Computers&#39;,)
(&#39;Microphones&#39;,)

Number of products per category:
(&#39;Accessories&#39;, 2)
(&#39;Computers&#39;, 4)
(&#39;Microphones&#39;, 2)
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/select_queries_with_aggregates">SQLBolt - Queries with aggregates - Pt. 1</a></li>
<li><a href="https://www.sqlitetutorial.net/sqlite-group-by/">SQLite Tutorial - SQLite Group By</a></li>
</ul>
<h2 id="insert">INSERT<a class="headerlink" href="#insert" title="Permanent link">&para;</a></h2>
<p>Once you've created a table, you'll want to put data in it. The <code>INSERT</code> statement is used to add data to a SQL table. You list the column names in the <code>()</code> after the table name.</p>
<p>Consider this <code>users</code> table definition:</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">username</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">password</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>If we wanted to fill this table with a few users, we would leave out the <code>user_id</code> in the <code>()</code> as this table has the <code>user_id</code> set to <code>AUTOINCREMENT</code>. We would need to add the other two column names in whatever order we wished, though.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;djs&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;mypa$$word&quot;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;django&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;w0ff&quot;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;alecg&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;c0de&quot;</span><span class="p">);</span><span class="w"></span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬──────────┬────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼──────────┼────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">djs</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">django</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="n">w0ff</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">alecg</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">c0de</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴──────────┴────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;users-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    INSERT INTO users (username, password) VALUES (&quot;djs&quot;, &quot;mypa$$word&quot;);</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    INSERT INTO users (username, password) VALUES (&quot;django&quot;, &quot;w0ff&quot;);</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    INSERT INTO users (username, password) VALUES (&quot;alecg&quot;, &quot;c0de&quot;);</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="c1"># Make sure the changes are saved to the DB.</span>
<span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM users;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>[(1, &#39;djs&#39;, &#39;mypa$$word&#39;), (2, &#39;django&#39;, &#39;w0ff&#39;), (3, &#39;alecg&#39;, &#39;c0de&#39;)]
</code></pre></div>
<h3 id="inserting-multiple-rows-into-a-table">Inserting multiple rows into a table<a class="headerlink" href="#inserting-multiple-rows-into-a-table" title="Permanent link">&para;</a></h3>
<p>If you want to insert multiple rows into a database table, you can use a single <code>INSERT</code> statement and group each row in <code>()</code>.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">)</span><span class="w"></span>
<span class="k">VALUES</span><span class="w"></span>
<span class="w">    </span><span class="p">(</span><span class="ss">&quot;djs&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;mypa$$word&quot;</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="p">(</span><span class="ss">&quot;django&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;w0ff&quot;</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="p">(</span><span class="ss">&quot;alecg&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;c0de&quot;</span><span class="p">);</span><span class="w"></span>


<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬──────────┬────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼──────────┼────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">djs</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">django</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="n">w0ff</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">alecg</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">c0de</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴──────────┴────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;users-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    INSERT INTO users (username, password)</span>
<span class="s2">    VALUES</span>
<span class="s2">        (&quot;djs&quot;, &quot;mypa$$word&quot;),</span>
<span class="s2">        (&quot;django&quot;, &quot;w0ff&quot;),</span>
<span class="s2">        (&quot;alecg&quot;, &quot;c0de&quot;);</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM users;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>[(1, &#39;djs&#39;, &#39;mypa$$word&#39;), (2, &#39;django&#39;, &#39;w0ff&#39;), (3, &#39;alecg&#39;, &#39;c0de&#39;)]
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/inserting_rows">SQLBolt - Inserting rows</a></li>
<li><a href="https://www.sqlitetutorial.net/sqlite-insert/">SQLite Tutorial - SQLite Insert</a></li>
</ul>
<h2 id="join">JOIN<a class="headerlink" href="#join" title="Permanent link">&para;</a></h2>
<p>Being able to combine data from related tables is one of the things that makes a relational database like SQLite so powerful.</p>
<h3 id="defining-table-relationships">Defining Table Relationships<a class="headerlink" href="#defining-table-relationships" title="Permanent link">&para;</a></h3>
<p>Before you can <code>JOIN</code> two tables, they must share a common key. Consider the following two table schemas, which represent data about authors and books:</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">authors</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="n">author_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">author_name</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="n">book_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">author_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">authors</span><span class="w"> </span><span class="p">(</span><span class="n">author_id</span><span class="p">),</span><span class="w"> </span><span class="c1">-- the Foreign Key relationship</span>
<span class="w">    </span><span class="n">book_title</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>We can relate the two tables with the <code>REFERENCES</code> keyword. The <code>author_id</code> is known as a <em>Foreign Key</em> in the <code>books</code> table because it's merely pointing to the <code>PRIMARY KEY</code> of the <code>authors</code> table. It's the <code>author_id</code> shared between the <code>authors</code> and <code>books</code> tables that allows us to <code>JOIN</code> them together.</p>
<h3 id="joining-tables-together">JOINING Tables Together<a class="headerlink" href="#joining-tables-together" title="Permanent link">&para;</a></h3>
<p>Now that we have an established relationship between our <code>authors</code> and <code>books</code> tables, we can <code>JOIN</code> them together. We'll preface each column name with the table it references since we'll be referring to multiple tables like this <code>table_name.column_name</code>. This isn't always strictly required, but it makes it easier to understand which table each column references in the query.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">authors</span><span class="p">;</span><span class="w"></span>
<span class="err">┌───────────┬───────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">author_id</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">author_name</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├───────────┼───────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">J</span><span class="p">.</span><span class="n">D</span><span class="p">.</span><span class="w"> </span><span class="n">Salinger</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Harper</span><span class="w"> </span><span class="n">Lee</span><span class="w">    </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Truman</span><span class="w"> </span><span class="n">Capote</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">└───────────┴───────────────┘</span><span class="w"></span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">books</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬───────────┬────────────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">book_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">author_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">book_title</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼───────────┼────────────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="k">To</span><span class="w"> </span><span class="n">Kill</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Mockingbird</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="k">In</span><span class="w"> </span><span class="n">Cold</span><span class="w"> </span><span class="n">Blood</span><span class="w">          </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">Catcher</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Rye</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Breakfast</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">Tiffanys</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Franny</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">Zooey</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Summer</span><span class="w"> </span><span class="n">Crossing</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="k">Go</span><span class="w"> </span><span class="k">Set</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Watchman</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴───────────┴────────────────────────┘</span><span class="w"></span>

<span class="c1">-- Join the `authors` and `books` tables together</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">authors</span><span class="p">.</span><span class="n">author_name</span><span class="p">,</span><span class="w"> </span><span class="n">books</span><span class="p">.</span><span class="n">book_title</span><span class="w"></span>
<span class="k">FROM</span><span class="w"> </span><span class="n">authors</span><span class="w"></span>
<span class="k">JOIN</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">authors</span><span class="p">.</span><span class="n">author_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">books</span><span class="p">.</span><span class="n">author_id</span><span class="p">;</span><span class="w"></span>
<span class="err">┌───────────────┬────────────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w">  </span><span class="n">author_name</span><span class="w">  </span><span class="err">│</span><span class="w">       </span><span class="n">book_title</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">├───────────────┼────────────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Harper</span><span class="w"> </span><span class="n">Lee</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="k">To</span><span class="w"> </span><span class="n">Kill</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Mockingbird</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Truman</span><span class="w"> </span><span class="n">Capote</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="k">In</span><span class="w"> </span><span class="n">Cold</span><span class="w"> </span><span class="n">Blood</span><span class="w">          </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">J</span><span class="p">.</span><span class="n">D</span><span class="p">.</span><span class="w"> </span><span class="n">Salinger</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">Catcher</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Rye</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Truman</span><span class="w"> </span><span class="n">Capote</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">Breakfast</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">Tiffanys</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">J</span><span class="p">.</span><span class="n">D</span><span class="p">.</span><span class="w"> </span><span class="n">Salinger</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">Franny</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">Zooey</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Truman</span><span class="w"> </span><span class="n">Capote</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">Summer</span><span class="w"> </span><span class="n">Crossing</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Harper</span><span class="w"> </span><span class="n">Lee</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="k">Go</span><span class="w"> </span><span class="k">Set</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Watchman</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">└───────────────┴────────────────────────┘</span><span class="w"></span>

<span class="c1">-- Getting a bit fancier by ordering by `author_name`</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">authors</span><span class="p">.</span><span class="n">author_name</span><span class="p">,</span><span class="w"> </span><span class="n">books</span><span class="p">.</span><span class="n">book_title</span><span class="w"></span>
<span class="k">FROM</span><span class="w"> </span><span class="n">authors</span><span class="w"></span>
<span class="k">JOIN</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">authors</span><span class="p">.</span><span class="n">author_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">books</span><span class="p">.</span><span class="n">author_id</span><span class="w"></span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">authors</span><span class="p">.</span><span class="n">author_name</span><span class="p">;</span><span class="w"></span>
<span class="err">┌───────────────┬────────────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w">  </span><span class="n">author_name</span><span class="w">  </span><span class="err">│</span><span class="w">       </span><span class="n">book_title</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">├───────────────┼────────────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Harper</span><span class="w"> </span><span class="n">Lee</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="k">To</span><span class="w"> </span><span class="n">Kill</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Mockingbird</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Harper</span><span class="w"> </span><span class="n">Lee</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="k">Go</span><span class="w"> </span><span class="k">Set</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Watchman</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">J</span><span class="p">.</span><span class="n">D</span><span class="p">.</span><span class="w"> </span><span class="n">Salinger</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">Catcher</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Rye</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">J</span><span class="p">.</span><span class="n">D</span><span class="p">.</span><span class="w"> </span><span class="n">Salinger</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">Franny</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">Zooey</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Truman</span><span class="w"> </span><span class="n">Capote</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="k">In</span><span class="w"> </span><span class="n">Cold</span><span class="w"> </span><span class="n">Blood</span><span class="w">          </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Truman</span><span class="w"> </span><span class="n">Capote</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">Breakfast</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">Tiffanys</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Truman</span><span class="w"> </span><span class="n">Capote</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">Summer</span><span class="w"> </span><span class="n">Crossing</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└───────────────┴────────────────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;library-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>


<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM authors;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All rows in the `authors` table:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM books;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">All rows in the `books` table:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>


<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT authors.author_name, books.book_title</span>
<span class="s2">    FROM authors</span>
<span class="s2">    JOIN books ON authors.author_id = books.author_id;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Joining the `authors` and `books` tables:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT authors.author_name, books.book_title</span>
<span class="s2">    FROM authors</span>
<span class="s2">    JOIN books ON authors.author_id = books.author_id</span>
<span class="s2">    ORDER BY authors.author_name;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Joining and sorting the `authors` and `books` tables:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>All rows in the `authors` table:
(1, &#39;J.D. Salinger&#39;)
(2, &#39;Harper Lee&#39;)
(3, &#39;Truman Capote&#39;)

All rows in the `books` table:
(1, 2, &#39;To Kill a Mockingbird&#39;)
(2, 3, &#39;In Cold Blood&#39;)
(3, 1, &#39;The Catcher in the Rye&#39;)
(4, 3, &quot;Breakfast at Tiffany&#39;s&quot;)
(5, 1, &#39;Franny and Zooey&#39;)
(6, 3, &#39;Summer Crossing&#39;)
(7, 2, &#39;Go Set a Watchman&#39;)

Joining the `authors` and `books` tables:
(&#39;Harper Lee&#39;, &#39;To Kill a Mockingbird&#39;)
(&#39;Truman Capote&#39;, &#39;In Cold Blood&#39;)
(&#39;J.D. Salinger&#39;, &#39;The Catcher in the Rye&#39;)
(&#39;Truman Capote&#39;, &quot;Breakfast at Tiffany&#39;s&quot;)
(&#39;J.D. Salinger&#39;, &#39;Franny and Zooey&#39;)
(&#39;Truman Capote&#39;, &#39;Summer Crossing&#39;)
(&#39;Harper Lee&#39;, &#39;Go Set a Watchman&#39;)

Joining and sorting the `authors` and `books` tables:
(&#39;Harper Lee&#39;, &#39;To Kill a Mockingbird&#39;)
(&#39;Harper Lee&#39;, &#39;Go Set a Watchman&#39;)
(&#39;J.D. Salinger&#39;, &#39;The Catcher in the Rye&#39;)
(&#39;J.D. Salinger&#39;, &#39;Franny and Zooey&#39;)
(&#39;Truman Capote&#39;, &#39;In Cold Blood&#39;)
(&#39;Truman Capote&#39;, &quot;Breakfast at Tiffany&#39;s&quot;)
(&#39;Truman Capote&#39;, &#39;Summer Crossing&#39;)
</code></pre></div>
<h4 id="the-using-shorthand">The <code>USING()</code> shorthand<a class="headerlink" href="#the-using-shorthand" title="Permanent link">&para;</a></h4>
<p>When using a <code>JOIN</code>, you don't have to use the <code>ON table.column_name = other_table.column_name</code> syntax if the column names are the same in both tables. We could rewrite the last <code>JOIN</code> from the previous example in a shorter way with <code>USING()</code> like so:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">authors</span><span class="p">.</span><span class="n">author_name</span><span class="p">,</span><span class="w"> </span><span class="n">books</span><span class="p">.</span><span class="n">book_title</span><span class="w"></span>
<span class="k">FROM</span><span class="w"> </span><span class="n">authors</span><span class="w"></span>
<span class="k">JOIN</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="p">(</span><span class="n">author_id</span><span class="p">)</span><span class="w">  </span><span class="c1">-- This is a nice shorthand</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">authors</span><span class="p">.</span><span class="n">author_name</span><span class="p">;</span><span class="w"></span>
<span class="err">┌───────────────┬────────────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w">  </span><span class="n">author_name</span><span class="w">  </span><span class="err">│</span><span class="w">       </span><span class="n">book_title</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">├───────────────┼────────────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Harper</span><span class="w"> </span><span class="n">Lee</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="k">To</span><span class="w"> </span><span class="n">Kill</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Mockingbird</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Harper</span><span class="w"> </span><span class="n">Lee</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="k">Go</span><span class="w"> </span><span class="k">Set</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Watchman</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">J</span><span class="p">.</span><span class="n">D</span><span class="p">.</span><span class="w"> </span><span class="n">Salinger</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">Catcher</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Rye</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">J</span><span class="p">.</span><span class="n">D</span><span class="p">.</span><span class="w"> </span><span class="n">Salinger</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">Franny</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">Zooey</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Truman</span><span class="w"> </span><span class="n">Capote</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="k">In</span><span class="w"> </span><span class="n">Cold</span><span class="w"> </span><span class="n">Blood</span><span class="w">          </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Truman</span><span class="w"> </span><span class="n">Capote</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">Breakfast</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">Tiffanys</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">Truman</span><span class="w"> </span><span class="n">Capote</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">Summer</span><span class="w"> </span><span class="n">Crossing</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└───────────────┴────────────────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/select_queries_with_joins">SQLBolt - Multi-table queries with JOINs</a></li>
<li><a href="https://www.sqlitetutorial.net/sqlite-join/">SQLite Tutorial - SQLite Join</a></li>
</ul>
<h2 id="limit">LIMIT<a class="headerlink" href="#limit" title="Permanent link">&para;</a></h2>
<p>Sometimes, you may want to get a limited number of rows back from a <code>SELECT</code> query. The <code>LIMIT</code> clause allows you to do this:</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="c1">-- Only get the first 3 products in the table (by `product_id`)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;products-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># We&#39;ll use this a few times so it makes sense for it to be a function</span>
<span class="k">def</span> <span class="nf">fetch_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>


<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">fetch_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products LIMIT 3;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">The first three products in the table:&quot;</span><span class="p">)</span>
<span class="n">fetch_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)

The first three products in the table:
(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/filtering_sorting_query_results">SQLBolt - Filtering and sorting Query results</a></li>
<li><a href="https://www.sqlitetutorial.net/sqlite-limit/">SQLite Tutorial - SQLite Limit</a></li>
</ul>
<h2 id="null">NULL<a class="headerlink" href="#null" title="Permanent link">&para;</a></h2>
<p>The <code>NULL</code> datatype allows you to express a missing or unknown value.</p>
<h3 id="avoiding-null-values-in-create-table-statements">Avoiding NULL Values In CREATE TABLE Statements<a class="headerlink" href="#avoiding-null-values-in-create-table-statements" title="Permanent link">&para;</a></h3>
<p>Generally, <code>NULL</code> values should be avoided by adding a <code>NOT NULL</code> constraint to your <code>CREATE TABLE</code> definitions like so:</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="n">product_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">product_name</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">product_price</span><span class="w"> </span><span class="nb">REAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">product_category</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>If a column has a <code>NOT NULL</code> constraint and you try to enter a <code>NULL</code> value for that column, you'll get an error:</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="p">(</span><span class="n">product_name</span><span class="p">,</span><span class="w"> </span><span class="n">product_price</span><span class="p">,</span><span class="w"> </span><span class="n">product_category</span><span class="p">)</span><span class="w"></span>
<span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;mousepad&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Accessories&quot;</span><span class="p">);</span><span class="w"></span>
<span class="c1">-- Error: NOT NULL constraint failed: products.product_price</span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;products-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All products:&quot;</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>


<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    INSERT INTO products (product_name, product_price, product_category)</span>
<span class="s2">    VALUES (&quot;mousepad&quot;, NULL, &quot;Accessories&quot;);</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="c1"># This will throw an error</span>
<span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>All products:
(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)
Traceback (most recent call last):
  File &quot;/home/daniel/documentation-examples/main.py&quot;, line 24, in &lt;module&gt;
    sql.execute(query)
sqlite3.IntegrityError: NOT NULL constraint failed: products.product_price
</code></pre></div>
<h3 id="filtering-null-values-in-select-statements">Filtering NULL Values In SELECT Statements<a class="headerlink" href="#filtering-null-values-in-select-statements" title="Permanent link">&para;</a></h3>
<p>You can use <code>IS NULL</code> and <code>IS NOT NULL</code> to filter <code>SELECT</code> statements by columns with or without <code>NULL</code> values. This can be valuable to find rows with missing information or to only display rows with no missing information.</p>
<p>Note that in Python, <code>NULL</code> translates to the <code>None</code> datatype.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="cm">/*</span>
<span class="cm">*   We can see that the &quot;Lenovo ThinkPad&quot; doesn&#39;t have a `product_price`.</span>
<span class="cm">*   That&#39;s because it&#39;s `NULL`!</span>
<span class="cm">*/</span><span class="w"></span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w">               </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="cm">/*</span>
<span class="cm">*   We can filter our results to find products with missing</span>
<span class="cm">*   `product_price` data.</span>
<span class="cm">*/</span><span class="w"></span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬─────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">product_name</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼─────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w"> </span><span class="err">│</span><span class="w">               </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴─────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="cm">/*</span>
<span class="cm">*   We can also filter out rows that have a `NULL` value for</span>
<span class="cm">*   `product_price`.</span>
<span class="cm">*/</span><span class="w"></span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;products-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>


<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All products:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products WHERE product_price IS NULL;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Products with `NULL` values for their price:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products WHERE product_price IS NOT NULL;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Products __without__ `NULL` values for their price:&quot;</span><span class="p">)</span>
<span class="n">execute_query_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>All products:
(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(8, &#39;Lenovo ThinkPad&#39;, None, &#39;Computers&#39;)

Products with `NULL` values for their price:
(8, &#39;Lenovo ThinkPad&#39;, None, &#39;Computers&#39;)

Products __without__ `NULL` values for their price:
(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/select_queries_with_nulls">SQLBolt - A short note on NULLs</a></li>
<li><a href="https://www.sqlitetutorial.net/sqlite-is-null/">SQLite Tutorial - SQLite IS NULL</a></li>
</ul>
<h2 id="offset">OFFSET<a class="headerlink" href="#offset" title="Permanent link">&para;</a></h2>
<p>If you've ever visited a website like Amazon.com, you know that when you search for a particular product, there are multiple pages of results. The <code>OFFSET</code> clause allows you to move the starting point of the returned rows from a query. It's usually used in conjunction with a <code>LIMIT</code> clause for things like pagination (as in the Amazon example).</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="c1">-- Only get the first 3 products in the table (by `product_id`)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="c1">-- Get the next 3 products in the table</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">OFFSET</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">product_name</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;products-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># We&#39;ll use this a few times so it makes sense for it to be a function</span>
<span class="k">def</span> <span class="nf">fetch_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>


<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">fetch_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products LIMIT 3;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">The first three products in the table:&quot;</span><span class="p">)</span>
<span class="n">fetch_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products LIMIT 3 OFFSET 3;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">The second group of three products in the table:&quot;</span><span class="p">)</span>
<span class="n">fetch_and_display_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)

The first three products in the table:
(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)

The second group of three products in the table:
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/filtering_sorting_query_results">SQLBolt - Filtering and sorting Query results</a></li>
<li><a href="https://www.sqlitetutorial.net/sqlite-limit/">SQLite Tutorial - SQLite Limit</a></li>
</ul>
<h2 id="order-by">ORDER BY<a class="headerlink" href="#order-by" title="Permanent link">&para;</a></h2>
<p>The <code>ORDER BY</code> clause allows you to order rows in ascending (<code>ASC</code>) or descending (<code>DESC</code>) order alphanumerically. You use it with a <code>SELECT</code> query to order the output.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="c1">-- Ordering products from lowest price to highest price</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">product_price</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="c1">-- ASC is the default, so it&#39;s the the same as doing nothing after ORDER BY</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="k">ASC</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="c1">-- Ordering products from highest price to lowest price</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;products-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># We&#39;ll use this a few times so it makes sense for it to be a function</span>
<span class="k">def</span> <span class="nf">fetch_and_display_all_rows</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>


<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">fetch_and_display_all_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products ORDER BY product_price;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Products ordered from price lowest to highest price:&quot;</span><span class="p">)</span>
<span class="n">fetch_and_display_all_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products ORDER BY product_price DESC;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Products ordered from price highest to lowest price:&quot;</span><span class="p">)</span>
<span class="n">fetch_and_display_all_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)

Products ordered from price lowest to highest price:
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)

Products ordered from price highest to lowest price:
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)
(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/filtering_sorting_query_results">SQLBolt - Filtering and sorting Query results</a></li>
<li><a href="https://www.sqlitetutorial.net/sqlite-order-by/">SQLite Tutorial - SQLite Order By</a></li>
</ul>
<h2 id="select">SELECT<a class="headerlink" href="#select" title="Permanent link">&para;</a></h2>
<p>To see what data is in a SQL table, you use the <code>SELECT</code> statement.</p>
<h3 id="selecting-all-of-the-rows-and-columns-from-a-table">Selecting all of the rows and columns from a table<a class="headerlink" href="#selecting-all-of-the-rows-and-columns-from-a-table" title="Permanent link">&para;</a></h3>
<p>You can <code>SELECT *</code> from a table and that'll give you all of the rows in that table along with all the columns. Be aware that the <code>*</code> means "Give me all the columns" not "Give me all the rows". All rows are returned from a <code>SELECT</code> query unless you begin using filters like <code>WHERE</code>, <code>LIMIT</code>, or <code>DISTINCT</code>.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬──────────┬────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼──────────┼────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">djs</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">django</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="n">w0ff</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">alecg</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">c0de</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴──────────┴────────────┘</span><span class="w"></span>
</code></pre></div>
<p>When selecting data from Python, you can fetch all of the rows by using the <code>fetchall()</code> method of the query result. Note that <code>fetchall()</code> returns a <code>list</code> of <code>tuples</code>, so you would need to do further processing from Python to get the individual rows from this <code>list</code>, such as looping through the rows.</p>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;users-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM users;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>

<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
    <span class="c1"># Using multiple assignment to get the values from each row</span>
    <span class="n">user_id</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span> <span class="o">=</span> <span class="n">row</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User ID: </span><span class="si">{</span><span class="n">user_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Username: </span><span class="si">{</span><span class="n">username</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Password: </span><span class="si">{</span><span class="n">password</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>[(1, &#39;djs&#39;, &#39;mypa$$word&#39;), (2, &#39;django&#39;, &#39;w0ff&#39;), (3, &#39;alecg&#39;, &#39;c0de&#39;)]
User ID: 1
Username: djs
Password: mypa$$word
User ID: 2
Username: django
Password: w0ff
User ID: 3
Username: alecg
Password: c0de
</code></pre></div>
<h3 id="selecting-specific-columns-from-a-table">Selecting specific columns from a table<a class="headerlink" href="#selecting-specific-columns-from-a-table" title="Permanent link">&para;</a></h3>
<p>If you only want certain columns returned, you can list them separated by commas after the <code>SELECT</code> keyword. Notice how the <code>user_id</code> column is not present in the result set in the query below.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="err">┌──────────┬────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├──────────┼────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">djs</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">django</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="n">w0ff</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">alecg</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">c0de</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">└──────────┴────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;users-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT username, password FROM users;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>[(&#39;djs&#39;, &#39;mypa$$word&#39;), (&#39;django&#39;, &#39;w0ff&#39;), (&#39;alecg&#39;, &#39;c0de&#39;)]
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/select_queries_introduction">SQLBolt - SELECT queries 101</a></li>
<li><a href="https://www.sqlitetutorial.net/sqlite-select/">SQLite Tutorial - SQLite Select</a></li>
</ul>
<h2 id="update">UPDATE<a class="headerlink" href="#update" title="Permanent link">&para;</a></h2>
<p>If you need to change data in a SQL table, the <code>UPDATE</code> statement is used. Make sure to use a <code>WHERE</code> clause so that you only update the rows you intend to change.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬──────────┬────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼──────────┼────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">djs</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">django</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="n">w0ff</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">alecg</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">c0de</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴──────────┴────────────┘</span><span class="w"></span>

<span class="c1">-- The `djs` user will now have `danielj` as their username.</span>
<span class="k">UPDATE</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;danielj&quot;</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬──────────┬────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼──────────┼────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">danielj</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">django</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="n">w0ff</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">alecg</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">c0de</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴──────────┴────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;users-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># We&#39;ll use this twice, so it makes sense to be a function</span>
<span class="k">def</span> <span class="nf">display_all_users</span><span class="p">():</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        SELECT * FROM users;</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>


<span class="n">display_all_users</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    UPDATE users SET username = &quot;danielj&quot; WHERE id = 1;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="c1"># Make sure to commit the changes to the DB</span>
<span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="n">display_all_users</span><span class="p">()</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>[(1, &#39;djs&#39;, &#39;mypa$$word&#39;), (2, &#39;django&#39;, &#39;w0ff&#39;), (3, &#39;alecg&#39;, &#39;c0de&#39;)]
[(1, &#39;danielj&#39;, &#39;mypa$$word&#39;), (2, &#39;django&#39;, &#39;w0ff&#39;), (3, &#39;alecg&#39;, &#39;c0de&#39;)]
</code></pre></div>
<h3 id="updating-multiple-columns">Updating multiple columns<a class="headerlink" href="#updating-multiple-columns" title="Permanent link">&para;</a></h3>
<p>If you need to update multiple columns, you can separate the <code>SET</code> clauses with commas. We've also put each new SQL command on a new line and added some indentation to make this longer query easier to read.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬──────────┬────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼──────────┼────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">djs</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">django</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="n">w0ff</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">alecg</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">c0de</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴──────────┴────────────┘</span><span class="w"></span>

<span class="k">UPDATE</span><span class="w"> </span><span class="n">users</span><span class="w"></span>
<span class="k">SET</span><span class="w"></span>
<span class="w">    </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;danielj&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- note the comma here</span>
<span class="w">    </span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;b3tTerpa$$w0rd&quot;</span><span class="w"></span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬──────────┬────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="err">│</span><span class="w">    </span><span class="n">password</span><span class="w">    </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼──────────┼────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">danielj</span><span class="w">  </span><span class="err">│</span><span class="w"> </span><span class="n">b3tTerpa$$w0rd</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">django</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="n">w0ff</span><span class="w">           </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">alecg</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">c0de</span><span class="w">           </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴──────────┴────────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;users-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># We&#39;ll use this twice, so it makes sense to be a function</span>
<span class="k">def</span> <span class="nf">display_all_users</span><span class="p">():</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        SELECT * FROM users;</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>


<span class="n">display_all_users</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    UPDATE users</span>
<span class="s2">    SET</span>
<span class="s2">        username = &quot;danielj&quot;,</span>
<span class="s2">        password = &quot;b3tTerpa$$w0rd&quot;</span>
<span class="s2">    WHERE user_id = 1;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="c1"># Make sure to commit the changes to the DB</span>
<span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="n">display_all_users</span><span class="p">()</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>[(1, &#39;djs&#39;, &#39;mypa$$word&#39;), (2, &#39;django&#39;, &#39;w0ff&#39;), (3, &#39;alecg&#39;, &#39;c0de&#39;)]
[(1, &#39;danielj&#39;, &#39;b3tTerpa$$w0rd&#39;), (2, &#39;django&#39;, &#39;w0ff&#39;), (3, &#39;alecg&#39;, &#39;c0de&#39;)]
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/updating_rows">SQLBolt - Updating rows</a></li>
<li><a href="https://www.sqlitetutorial.net/sqlite-update/">SQLite Tutorial - SQLite Update</a></li>
</ul>
<h2 id="where">WHERE<a class="headerlink" href="#where" title="Permanent link">&para;</a></h2>
<p>To filter the results from a SQL query, use the <code>WHERE</code> clause.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬──────────┬────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼──────────┼────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">djs</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">django</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="n">w0ff</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">alecg</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">c0de</span><span class="w">       </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴──────────┴────────────┘</span><span class="w"></span>


<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;djs&quot;</span><span class="p">;</span><span class="w"></span>
<span class="err">┌─────────┬──────────┬────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">user_id</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">password</span><span class="w">  </span><span class="err">│</span><span class="w"></span>
<span class="err">├─────────┼──────────┼────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">djs</span><span class="w">      </span><span class="err">│</span><span class="w"> </span><span class="n">mypa$$word</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">└─────────┴──────────┴────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;users-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">run_query_and_display_results</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>


<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM users;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">run_query_and_display_results</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM users WHERE username = &quot;djs&quot;;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">run_query_and_display_results</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>[(1, &#39;djs&#39;, &#39;mypa$$word&#39;), (2, &#39;django&#39;, &#39;w0ff&#39;), (3, &#39;alecg&#39;, &#39;c0de&#39;)]
[(1, &#39;djs&#39;, &#39;mypa$$word&#39;)]
</code></pre></div>
<h4 id="getting-a-single-row-from-python-when-using-where">Getting a single row from Python when using <code>WHERE</code><a class="headerlink" href="#getting-a-single-row-from-python-when-using-where" title="Permanent link">&para;</a></h4>
<p>If you only need a single row from a <code>SELECT</code> statement using a <code>WHERE</code> clause in your Python programs, use <code>fetchone()</code>. This returns a <code>tuple</code> of the data in each column, and you can use techniques like tuple unpacking or indexing to pull the individual values from the <code>tuple</code>.</p>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;users-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM users WHERE username = &quot;djs&quot;;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="n">row</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>

<span class="c1"># This will be a tuple</span>
<span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

<span class="c1"># Getting the values from the row with tuple unpacking</span>
<span class="n">user_id</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span> <span class="o">=</span> <span class="n">row</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User ID: </span><span class="si">{</span><span class="n">user_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Username: </span><span class="si">{</span><span class="n">username</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Password: </span><span class="si">{</span><span class="n">password</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>(1, &#39;djs&#39;, &#39;mypa$$word&#39;)
User ID: 1
Username: djs
Password: mypa$$word
</code></pre></div>
<h4 id="using-conditional-logic-with-where-clauses">Using conditional logic with <code>WHERE</code> clauses<a class="headerlink" href="#using-conditional-logic-with-where-clauses" title="Permanent link">&para;</a></h4>
<p>There are many operators available to use in a <code>WHERE</code> clause. The ones that you can use with numerical data are shown below (<code>=</code>, <code>IN</code>, and <code>NOT IN</code> can also be used with <code>TEXT</code> data):</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>=</td>
<td>Equality (works for numbers and TEXT)</td>
</tr>
<tr>
<td>&gt;</td>
<td>Greater-than</td>
</tr>
<tr>
<td>&lt;</td>
<td>Less-than</td>
</tr>
<tr>
<td>&gt;=</td>
<td>Greater-than or equal-to</td>
</tr>
<tr>
<td>&lt;=</td>
<td>Less-than or equal-to</td>
</tr>
<tr>
<td>BETWEEN...AND</td>
<td>Number is between two values</td>
</tr>
<tr>
<td>NOT BETWEEN...AND</td>
<td>Number is not between two values</td>
</tr>
<tr>
<td>IN (...)</td>
<td>Number/Text exists in a list</td>
</tr>
<tr>
<td>NOT IN (...)</td>
<td>Number/Text does not exist in a list</td>
</tr>
</tbody>
</table>
<p>Here are examples of a few of the operators on a table of <code>products</code>:</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="c1">-- Get the product where the `product_name` is &quot;Lenovo ThinkPad&quot;.</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">product_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;Lenovo ThinkPad&quot;</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬─────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">  </span><span class="n">product_name</span><span class="w">   </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼─────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴─────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="c1">-- Get the products that cost less than $1000.</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="c1">-- Get the products that cost more than $1000.</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">    </span><span class="n">product_name</span><span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">     </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="c1">-- Get the products whose prices are between $50 and $300 (inclusive).</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="k">BETWEEN</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="mi">300</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="c1">-- Get the products that are in the &quot;Microphones&quot; and &quot;Computers&quot; categories.</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;Microphones&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Computers&quot;</span><span class="p">);</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;products-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># We&#39;ll use this a few times so it makes sense for it to be a function</span>
<span class="k">def</span> <span class="nf">fetch_and_display_all_rows</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>


<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">fetch_and_display_all_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products WHERE product_name = &quot;Lenovo ThinkPad&quot;;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Looking for the &#39;Lenovo ThinkPad&#39;:&quot;</span><span class="p">)</span>
<span class="n">fetch_and_display_all_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products WHERE product_price &lt; 1000;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Products cheaper than $1000:&quot;</span><span class="p">)</span>
<span class="n">fetch_and_display_all_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products WHERE product_price &gt; 1000;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Products more expensive than $1000:&quot;</span><span class="p">)</span>
<span class="n">fetch_and_display_all_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products WHERE product_price BETWEEN 50 AND 300;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Products between $50 and $300 (inclusive):&quot;</span><span class="p">)</span>
<span class="n">fetch_and_display_all_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products WHERE product_category IN (&quot;Microphones&quot;, &quot;Computers&quot;);</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Products in the &#39;Microphones&#39; and &#39;Computers&#39; categories:&quot;</span><span class="p">)</span>
<span class="n">fetch_and_display_all_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)

Looking for the &#39;Lenovo ThinkPad&#39;:
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)

Products cheaper than $1000:
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)

Products more expensive than $1000:
(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)

Products between $50 and $300 (inclusive):
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)

Products in the &#39;Microphones&#39; and &#39;Computers&#39; categories:
(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)
</code></pre></div>
<h4 id="complex-conditional-logic-with-where-clauses">Complex conditional logic with <code>WHERE</code> clauses<a class="headerlink" href="#complex-conditional-logic-with-where-clauses" title="Permanent link">&para;</a></h4>
<p>You can join multiple <code>WHERE</code> clauses with the logical <code>AND</code> and <code>OR</code> operators to make complex conditional statements, just like in a programming language like Python or JavaScript.</p>
<p><strong>Raw SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Dell</span><span class="w"> </span><span class="n">XPS</span><span class="w"> </span><span class="mi">17</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">1599</span><span class="p">.</span><span class="mi">99</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">3</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">System76</span><span class="w"> </span><span class="n">Thelio</span><span class="w"> </span><span class="n">B1</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="mi">1255</span><span class="p">.</span><span class="mi">55</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">4</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Logitech</span><span class="w"> </span><span class="n">M1</span><span class="w">              </span><span class="err">│</span><span class="w"> </span><span class="mi">34</span><span class="p">.</span><span class="mi">99</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Seagate</span><span class="w"> </span><span class="n">S1</span><span class="w"> </span><span class="n">SSD</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">88</span><span class="p">.</span><span class="mi">75</span><span class="w">         </span><span class="err">│</span><span class="w"> </span><span class="n">Accessories</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">6</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">MacBook</span><span class="w"> </span><span class="n">Pro</span><span class="w"> </span><span class="mi">16</span><span class="w">           </span><span class="err">│</span><span class="w"> </span><span class="mi">2100</span><span class="p">.</span><span class="mi">5</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="c1">-- Get all microphones less than $200.</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"></span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;Microphones&quot;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">200</span><span class="p">;</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>

<span class="c1">-- Get any microphones or computers less than $1000.</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">products</span><span class="w"></span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;Computers&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;Microphones&quot;</span><span class="p">);</span><span class="w"></span>
<span class="err">┌────────────┬──────────────────────────┬───────────────┬──────────────────┐</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="n">product_id</span><span class="w"> </span><span class="err">│</span><span class="w">       </span><span class="n">product_name</span><span class="w">       </span><span class="err">│</span><span class="w"> </span><span class="n">product_price</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">product_category</span><span class="w"> </span><span class="err">│</span><span class="w"></span>
<span class="err">├────────────┼──────────────────────────┼───────────────┼──────────────────┤</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">Snowball</span><span class="w"> </span><span class="n">Microphone</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="mi">99</span><span class="p">.</span><span class="mi">5</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">7</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Rode</span><span class="w"> </span><span class="n">Z28</span><span class="w">                 </span><span class="err">│</span><span class="w"> </span><span class="mi">275</span><span class="p">.</span><span class="mi">99</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Microphones</span><span class="w">      </span><span class="err">│</span><span class="w"></span>
<span class="err">│</span><span class="w"> </span><span class="mi">8</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="n">Lenovo</span><span class="w"> </span><span class="n">ThinkPad</span><span class="w">          </span><span class="err">│</span><span class="w"> </span><span class="mi">950</span><span class="p">.</span><span class="mi">75</span><span class="w">        </span><span class="err">│</span><span class="w"> </span><span class="n">Computers</span><span class="w">        </span><span class="err">│</span><span class="w"></span>
<span class="err">└────────────┴──────────────────────────┴───────────────┴──────────────────┘</span><span class="w"></span>
</code></pre></div>
<p><strong>Python + SQL</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;products-database.db&quot;</span><span class="p">)</span>
<span class="n">sql</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># We&#39;ll use this a few times so it makes sense for it to be a function</span>
<span class="k">def</span> <span class="nf">fetch_and_display_all_rows</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>


<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">fetch_and_display_all_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products</span>
<span class="s2">    WHERE product_category = &quot;Microphones&quot; AND product_price &lt; 200;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Getting microphones less than $200:&quot;</span><span class="p">)</span>
<span class="n">fetch_and_display_all_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    SELECT * FROM products</span>
<span class="s2">    WHERE product_price &lt; 1000 AND product_category IN (&quot;Computers&quot;, &quot;Microphones&quot;);</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Computers and Microphones cheaper than $1000:&quot;</span><span class="p">)</span>
<span class="n">fetch_and_display_all_rows</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output</strong></p>
<div class="highlight"><pre><span></span><code>(1, &#39;Dell XPS 17&#39;, 1599.99, &#39;Computers&#39;)
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(3, &#39;System76 Thelio B1&#39;, 1255.55, &#39;Computers&#39;)
(4, &#39;Logitech M1&#39;, 34.99, &#39;Accessories&#39;)
(5, &#39;Seagate S1 SSD&#39;, 88.75, &#39;Accessories&#39;)
(6, &#39;MacBook Pro 16&#39;, 2100.5, &#39;Computers&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)

Getting microphones less than $200:
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)

Computers and Microphones cheaper than $1000:
(2, &#39;Blue Snowball Microphone&#39;, 99.5, &#39;Microphones&#39;)
(7, &#39;Rode Z28&#39;, 275.99, &#39;Microphones&#39;)
(8, &#39;Lenovo ThinkPad&#39;, 950.75, &#39;Computers&#39;)
</code></pre></div>
<p><strong>Further Reading</strong></p>
<ul>
<li><a href="https://sqlbolt.com/lesson/select_queries_with_constraints">SQLBolt - Queries with constraints - Pt. 1</a></li>
<li><a href="https://sqlbolt.com/lesson/select_queries_with_constraints_pt_2">SQLBolt - Queries with constraints - Pt. 2</a></li>
<li><a href="https://www.sqlitetutorial.net/sqlite-where/">SQLite Tutorial - SQLite Where</a></li>
</ul>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../../python/wizardlib/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Wizardlib" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Wizardlib
            </div>
          </div>
        </a>
      
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2016 - 2022 CodeWizardsHQ
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "search.suggest"], "search": "../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
    
  </body>
</html>